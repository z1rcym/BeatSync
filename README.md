# BeatSync

指定したBPMでNullレイヤーにマーカーを自動生成するAfter Effects用スクリプトです。  
音楽のテンポに合わせて、タイムライン上に正確な間隔でマーカーを配置します。

---

## 🚀 機能

- **BPM値に応じたマーカー自動生成**
  - 指定したBPMに基づいて、正確な間隔でマーカーを配置します。
- **ダウンビート（0フレーム）の有無を選択可能**
  - 0フレームからマーカーを開始するか、1拍目から開始するかを選択できます。
- **シンプルなマーカー**
  - マーカーにはコメントが付かず、タイムラインがスッキリします。

---

## 🛠 使用方法

1. **After Effectsでコンポジションを開く**
2. **スクリプトを実行**
   - `ファイル > スクリプト > スクリプトファイルを実行` からスクリプトを選択します。
3. **BPM値を入力**
   - 例: `120`, `60`, `90.5` など。
4. **ダウンビートを含めるか選択**
   - チェックあり: 0フレームからマーカーを開始します。
   - チェックなし: 1拍目からマーカーを開始します。
5. **OKをクリック**
   - Nullレイヤーが作成され、指定したBPMに基づいてマーカーが追加されます。

---

## ⚙️ スクリプトの動作

- **Nullレイヤー作成**
  - 名前例: `BPM Marker (120 BPM)`
- **マーカー間隔の自動計算**
  - `60 / BPM` で1拍あたりの秒数を算出し、その間隔でマーカーを配置します。
- **コンポジション終了時間までマーカーを配置**
  - コンポジションの終了時間に達するまで、マーカーを追加します。

---

## 🎬 使用例

- **音楽に合わせたアニメーション**
  - ビートに合わせてキーフレームを配置し、リズミカルなアニメーションを作成。
- **ビート同期エフェクト**
  - ビートに合わせてエフェクトを発動させるタイミングを調整。
- **リズム分析**
  - 音楽のリズムを可視化し、タイミングを確認。

---

## ⚠️ 注意事項

- **コンポジションをアクティブにしておく**
  - スクリプト実行時、コンポジションが選択されていないとエラーが発生します。
- **小数のBPMに対応**
  - `62.5` のような小数のBPM値も入力可能です。
- **マーカーの編集**
  - マーカーをダブルクリックして、後からコメントや色を追加できます。

---

## 🔄 カスタマイズ

- **Nullレイヤー名の変更**
  - スクリプト内の `nullLayer.name` を編集して、Nullレイヤーの名前を変更できます。
- **マーカーのカスタマイズ**
  - スクリプト内で `marker.comment` や `marker.label` を追加して、マーカーにコメントや色を付けることができます。

---

## 📦 対応環境

- **Adobe After Effects CC 2018以降**
- **macOS / Windows 両対応**

---

## ⚠️ 免責事項

- 不具合による損害については、責任を負いかねますのでご了承ください。
- 会社や学校、友人間でのスクリプト共有は可能ですが、インターネット上での広範な配布はご遠慮ください。

---

## 💬 サポート

ご質問、不具合報告、ご要望などございましたら、以下よりお気軽にご連絡ください：

- **Instagram**: [z1rcym](https://www.instagram.com/z1rcym)
- **Twitter**: [@z1rcym](https://twitter.com/z1rcym)
